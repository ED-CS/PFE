{% extends "layout.html" %}

{% block wrapper %}
    <div class="wrapper">
        <section class="page-header">
            <!-- Circles background -->
            <img class="bg-image" src="{{url_for('static', filename='assets/img/pages/ed2.jpg')}}" style="width: 100%;">
        </section>
        <section class="section bg-secondary">
            <div class="container mt-9">
              <div class="card card-profile shadow mt--300">
                <div class="px-4">
                  <div class="text-center mt-5">
                    <div class="content-center text-center">
                      <div class="col-md-8 ml-auto mr-auto">
                        <div class="brand">
                          <h1 class="title">
                            List Of Tags
                          </h1>
                            <h3 class="description">path of audio file:{{ file_name }}</h3>
                            <h3 class="description">
                                <audio controls>
                                    <source src="file:///D:/pfe dataset/test/" type="audio/wav" />
                                </audio>
                            </h3>
                            <!-- <canvas id="chart" width="600" height="400"></canvas> -->
                            {% for sys in tupleTagsValue%}
                            <canvas id="chart{{ sys[0][3]}}" width="600" height="400"></canvas>
                            <canvas id="ch{{ sys[0][3]}}" width="600" height="400"></canvas>
                            <table id="tab{{ sys[0][3]}}" style="display: none;">
                              <tbody>
                                {% for tup in sys %}
                                  <tr>
                                    <td>{{tup[0]}}</td>
                                    <td>{{tup[1]}}</td>
                                    <td>{{tup[2]}}</td>
                                  </tr>
                                {% endfor %}
                              </tbody>
                            </table>
                            {% endfor %}
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="mt-5 py-5 border-top text-center">
                    <div class="row justify-content-center">
                      <div class="col-lg-9">
                        <a href="{{url_for('home')}}" class="btn btn-primary btn-round btn-lg">HOME</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </section>
        <footer class="footer">
            <!-- end tow main pages -->
            <!-- contact section -->
            <div class="container">
                <div class="row row-grid align-items-center my-md">
                    <div class="col-lg-6">
                        <h3 class="text-primary font-weight-light mb-2">Thank you .....</h3>
                        </div>
                            <div class="col-lg-6 text-lg-center btn-wrapper">
                            <button target="_blank" href="https://twitter.com/creativetim" rel="nofollow" class="btn btn-icon-only btn-twitter rounded-circle" data-toggle="tooltip" data-original-title="Follow us">
                                <span class="btn-inner--icon"><i class="fa fa-twitter"></i></span>
                            </button>
                            <button target="_blank" href="https://www.facebook.com/CreativeTim/" rel="nofollow" class="btn-icon-only rounded-circle btn btn-facebook" data-toggle="tooltip" data-original-title="Like us">
                                <span class="btn-inner--icon"><i class="fab fa-facebook"></i></span>
                            </button>
                            <button target="_blank" href="https://instagrame.com/creativetim" rel="nofollow" class="btn btn-icon-only btn-instagram rounded-circle" data-toggle="tooltip" data-original-title="Follow us">
                                <span class="btn-inner--icon"><i class="fa fa-instagram"></i></span>
                            </button>
                            <button target="_blank" href="https://github.com/creativetimofficial" rel="nofollow" class="btn btn-icon-only btn-github rounded-circle" data-toggle="tooltip" data-original-title="Star on Github">
                                <span class="btn-inner--icon"><i class="fa fa-github"></i></span>
                            </button>
                        </div>
                    </div>
                <hr>
                <div class="row align-items-center justify-content-md-between">
                    <div class="col-md-6">
                        <div class="copyright">
                            &copy; 2021 <a href="" target="_blank">Creative Tim</a>.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <ul class="nav nav-footer justify-content-end">
                            <li class="nav-item">
                            <a href="" class="nav-link" target="_blank">About Us</a>
                            </li>
                            <li class="nav-item">
                            <a href="" class="nav-link" target="_blank">Blog</a>
                            </li>
                            <li class="nav-item">
                            <a href="" class="nav-link" target="_blank">License</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- end contact section -->
        </footer>
    </div>
    <script>
    for(s = 0; s < 5; s++){
      // for one system
      var tab = document.getElementById("tabSystem "+s);
      var pieData = [];  
      //gets rows of table
      var rowLength = tab.rows.length;
      //loops through rows    
      for (i = 0; i < rowLength; i++){

        //gets cells of current row  
        var Cells = tab.rows.item(i).cells;  
        var dic = {
          value : parseFloat(Cells.item(0).innerHTML),
          label : Cells.item(1).innerHTML,
          color : Cells.item(2).innerHTML
        }; 
        pieData.push(dic);
      };

      // get bar chart canvas
      var mychart = document.getElementById("chartSystem "+s).getContext("2d");
      // draw pie chart
      new Chart(document.getElementById("chartSystem "+s).getContext("2d")).Pie(pieData);

      //test chart d
    };  

    {% for sys in range(4)%}
        
        const data = {
          labels: {{ tags[sys] | safe}},
          datasets: [{
            label: {{ systems[sys] | safe}},
            data: {{val_tags[sys] | safe}},
            backgroundColor: {{clos[sys] | safe}},
            hoverOffset: 4
          }]
        };
        var = document.getElementById("chSystem "+s).getContext("2d");
        var cher = new chart (cxt, {
          type: 'doughnut',
          data: data 
         });

      {% endfor %}
  </script>
{% endblock wrapper %}

{% block chart %} 
  

{% endblock chart %}
